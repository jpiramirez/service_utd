<?xml version="1.0"?>

<launch>
  <param name="/targetdetect/camera_info_url" value="$(find service_utd)/calibration.yml" />

  <node name="drone_setpoint" pkg="service_utd" type="drone_setpoint" respawn="true" />
  
  <include file="$(find service_utd)/launch/quadrotor_empty_world.launch"/>
  
  <node name="tf2posestamped" pkg="service_utd" type="tf2posestamped" respawn="true" />
  
  
  <param name="/targetdetect/color" value="0 0 255" type="str"/>
  <node name="targetdetector" pkg="service_utd" type="targetdetector" respawn="true" >
    <remap from="image" to="/downward_cam/camera/image" />
  </node>
  
  <node name="joy_node" pkg="joy" type="joy_node" respawn="true"/>
  
  <node name="drone_joystick" pkg="service_utd" type="joy2drone.py" respawn="true" />
  
  <param name="/waypointNav" value="true" type="bool" />
  <!--param name="/waypoints/y" value="-1 1 1 -1 -1 1" /-->
  <param name="/waypoints/y" value="-1.5429   -1.0286   -0.5143    0.0000    0.5143    1.0286    1.5429  1.5429    1.0286    0.5143    0.0000   -0.5143   -1.0286   -1.5429 -1.5429   -1.0286   -0.5143    0.0000    0.5143    1.0286    1.5429  1.5429    1.0286    0.5143    0.0000   -0.5143   -1.0286   -1.5429 -1.5429   -1.0286   -0.5143    0.0000    0.5143    1.0286    1.5429  1.5429    1.0286    0.5143    0.0000   -0.5143   -1.0286   -1.5429 -1.5429   -1.0286   -0.5143    0.0000    0.5143    1.0286    1.5429  1.5429    1.0286    0.5143    0.0000   -0.5143   -1.0286   -1.5429 -1.5429   -1.0286   -0.5143    0.0000    0.5143    1.0286    1.5429  1.5429    1.0286    0.5143    0.0000   -0.5143   -1.0286   -1.5429 -1.5429   -1.0286   -0.5143    0.0000    0.5143    1.0286    1.5429  1.5429    1.0286    0.5143    0.0000   -0.5143   -1.0286   -1.5429" />
  <!-- param name="/waypoints/x" value="1 1 0 0 -1 -1" / -->
  <param name="/waypoints/x" value="-1.8429 -1.8429 -1.8429 -1.8429 -1.8429 -1.8429 -1.8429 -1.5287 -1.5287 -1.5287 -1.5287 -1.5287 -1.5287 -1.5287 -1.2145 -1.2145 -1.2145 -1.2145 -1.2145 -1.2145 -1.2145  -0.9003 -0.9003 -0.9003 -0.9003 -0.9003 -0.9003 -0.9003  -0.5861 -0.5861 -0.5861 -0.5861 -0.5861 -0.5861 -0.5861 -0.2719 -0.2719 -0.2719 -0.2719 -0.2719 -0.2719 -0.2719  0.0423 0.0423 0.0423 0.0423 0.0423 0.0423 0.0423 0.3565 0.3565 0.3565 0.3565 0.3565 0.3565 0.3565 0.6707 0.6707 0.6707 0.6707 0.6707 0.6707 0.6707 0.9849 0.9849 0.9849 0.9849 0.9849 0.9849 0.9849 1.2991 1.2991 1.2991 1.2991 1.2991 1.2991 1.2991 1.6133 1.6133 1.6133 1.6133 1.6133 1.6133 1.6133"  />
  <param name="/waypoints/z" value="1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1" />
  <node name="drone_waypoint_nav" pkg="service_utd" type="infocontroller" respawn="true" />
</launch>
